(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},7280:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(5155),a=r(2115),n=r(63);function l(){let e=(0,n.useRouter)(),[s,r]=(0,a.useState)(!1),l=async()=>{r(!0),console.log("[UI][enqueue] POST /api/queue/enqueue ...");try{let s=await fetch("/api/queue/enqueue",{method:"POST"});if(s.ok){let{ticketId:r,reused:t}=await s.json();console.log("[UI][enqueue] success",{ticketId:r,reused:t}),console.log("[UI][enqueue] navigate /queue?ticketId=".concat(r)),e.push("/queue?ticketId=".concat(r))}else console.error("[UI][enqueue] error status=",s.status),console.error("Erreur lors de l'entr\xe9e dans la file"),alert("Erreur lors de l'entr\xe9e dans la file. Veuillez r\xe9essayer.")}catch(e){console.error("[UI][enqueue] network error:",e),alert("Erreur de connexion. Veuillez r\xe9essayer.")}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Tests Techno 130 ans EMF"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Bienvenue dans le syst\xe8me de questions techniques pour c\xe9l\xe9brer les 130 ans de l'\xc9cole des M\xe9tiers de Fribourg."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-8",children:"Le syst\xe8me garantit l'acc\xe8s exclusif aux questions - une seule personne \xe0 la fois peut participer."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{onClick:l,disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-lg font-medium",children:s?"Entr\xe9e en cours...":"Entrer dans la file d&apos;attente"}),(0,t.jsx)("div",{className:"text-xs text-gray-400 text-center",children:"Version TEST - Questions via JSON local, simulation d'affichage uniquement"})]})]})})}},7946:(e,s,r)=>{Promise.resolve().then(r.bind(r,7280))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7946)),_N_E=e.O()}]);